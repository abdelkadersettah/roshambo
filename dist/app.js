(()=>{"use strict";function e(e,n){for(var t=0;t<n.length;t++){var s=n[t];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}var n=function(){function n(){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n),this.shapes=["paper","scissors","rock"],this.playerPick=null}var t,s;return t=n,(s=[{key:"getPlayerPick",value:function(e){this.playerPick=e}},{key:"getHousePick",value:function(){var e=this;if(this.playerPick){var n=this.shapes.filter((function(n){return n!==e.playerPick})),t=Math.floor(Math.random()*n.length);this.housePick=n[t]}}}])&&e(t.prototype,s),n}();function t(e,n){for(var t=0;t<n.length;t++){var s=n[t];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}var s=function(){function e(){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e),this.resultRules={paper:{win:["rock"],lose:["scissors"]},rock:{win:["scissors"],lose:["paper"]},scissors:{win:["paper"],lose:["rock"]}}}var n,s;return n=e,(s=[{key:"checkResult",value:function(e,n){var t=this.resultRules[e];for(var s in this.resultRules[n],t)~t[s].indexOf(n)&&(this.result=s)}}])&&t(n.prototype,s),e}();function a(e,n){for(var t=0;t<n.length;t++){var s=n[t];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}var c=function(){function e(){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e),this.score=0}var n,t;return n=e,(t=[{key:"updateScores",value:function(e){"win"===e?this.score+=10:this.score-=10,this.score<0&&(this.score=0)}}])&&a(n.prototype,t),e}(),r={body:document.querySelector("body"),main:document.querySelector(".main"),gameScore:document.querySelector(".header__score--number")},o="btn__rules",i="rules-popup__btn--close",l="rules-popup",u="game-shapes",p="game-play",m={};m.shape=new n,function(e,n){var t="";e.forEach((function(e){t+='\n       <li class="game-shapes" data-items="'.concat(e,'"><img class="game-shapes__img" src="./images/icon-').concat(e,'.svg" alt=" ').concat(e,'" srcset=""></li>\n       ')}));var s='\n    <section class="game-select">\n    <ul class="game-menu">\n      '.concat(t,"\n    </ul>\n  </section>\n    ");n.insertAdjacentHTML("afterbegin",s)}(m.shape.shapes,r.main),r.main.insertAdjacentHTML("beforeend",'\n    <button class="game-menu__btn btn btn__rules secondary-text">Rules</button>\n\n    '),window.addEventListener("click",(function(e){var n,t,a,h,g,f,y=e.target;if(y.matches(".".concat(u,", .").concat(u," *"))){var d=y.closest(".".concat(u)).dataset.items;m.shape.getPlayerPick(d),m.shape.getHousePick(),(h=document.querySelector(".game-select"))&&h.parentElement.removeChild(h),r.main.firstElementChild.classList.contains("game-play")||(r.main.insertAdjacentHTML("afterbegin",'\n    <section class="game-play">\n   \n    </section>\n    '),t=m.shape.playerPick,a='\n      <ul class="game-play__user">\n          <li class="game-shapes" data-items="'.concat(t,'">\n              <img class="game-shapes__img" src="./images/icon-').concat(t,'.svg" alt="').concat(t,'" srcset="">\n        </li>\n          <h2 class="secondary-text game-shapes__text">You picked</h2>\n      </ul> \n      \n      '),document.querySelector(".".concat(p)).insertAdjacentHTML("afterbegin",a),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n='\n    <ul class="game-play__house">\n        <li class="game-shapes" data-items="">\n\n      </li>\n        <h2 class="secondary-text game-shapes__text">The house picked</h2>\n    </ul> \n    \n    ';document.querySelector(".".concat(p)).innerHTML+=n,setTimeout((function(){var n='\n        <li class="game-shapes" data-items="'.concat(e,'">\n        <img class="game-shapes__img" src="./images/icon-').concat(e,'.svg" alt="').concat(e,'" srcset="">\n\n      </li>\n        <h2 class="secondary-text game-shapes__text">The house picked</h2>\n    \n    ');document.querySelector(".game-play__house").innerHTML=n}),250)}(m.shape.housePick),m.result=new s,m.result.checkResult(m.shape.playerPick,m.shape.housePick),function(e){var n=document.querySelector(".game-play__user"),t='\n      <ul class="game-play__result">\n      <li><h2 class="game-play__result--text primary-text">You '.concat(e,'</h2></li>\n      <li><button class="btn btn__reset secondary-text game-play__btn--reset">Play again</button></li>\n    </ul>\n      ');setTimeout((function(){n.insertAdjacentHTML("afterend",t)}),500)}(m.result.result),m.score=new c,m.score.updateScores(m.result.result),n=m.score.score,r.gameScore.innerHTML=n)}y.matches(".".concat(o,", .").concat(o," *"))?(f=r.main,document.querySelector(".rules-popup")||f.insertAdjacentHTML("beforeend",'\n    <div class="rules-popup">\n    <h2 class="rules-popup__text">Rules</h2>\n  <img src="./images/image-rules.svg" alt="" class="rules-popup__img">  \n  <button class="rules-popup__btn rules-popup__btn--close"><img src="./images/icon-close.svg " alt="close Icone" srcset=""></button>\n  </div> \n    ')):!y.matches(".".concat(i,", .").concat(i," *"))&&y.matches(".".concat(l,", .").concat(l," *"))||(g=document.querySelector(".".concat(l)))&&g.parentElement.removeChild(g)}))})();