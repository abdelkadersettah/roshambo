(()=>{"use strict";function e(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}var t=function(){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.shapes=["paper","scissors","rock"],this.playerPick=null}var n,s;return n=t,(s=[{key:"getPlayerPick",value:function(e){this.playerPick=e}},{key:"getHousePick",value:function(){var e=this;if(this.playerPick){var t=this.shapes.filter((function(t){return t!==e.playerPick})),n=Math.floor(Math.random()*t.length);this.housePick=t[n]}}},{key:"resetGame",value:function(){this.playerPick=null,this.housePick=null}}])&&e(n.prototype,s),t}();function n(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}var s=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.resultRules={paper:{win:["rock"],lose:["scissors"]},rock:{win:["scissors"],lose:["paper"]},scissors:{win:["paper"],lose:["rock"]}}}var t,s;return t=e,(s=[{key:"checkResult",value:function(e,t){var n=this.resultRules[e];for(var s in this.resultRules[t],n)~n[s].indexOf(t)&&(this.result=s)}}])&&n(t.prototype,s),e}();function a(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}var c=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.score=0}var t,n;return t=e,(n=[{key:"updateScores",value:function(e){"win"===e?this.score+=10:this.score-=10,this.score<0&&(this.score=0)}}])&&a(t.prototype,n),e}(),r={body:document.querySelector("body"),main:document.querySelector(".main"),gameScore:document.querySelector(".header__score--number")},o="btn__rules",i="rules-popup__btn--close",l="rules-popup",u="game-shapes",p="game-play",m="btn__reset",h=function(e,t){var n="";e.forEach((function(e){n+='\n       <li class="game-shapes" data-items="'.concat(e,'"><img class="game-shapes__img" src="./images/icon-').concat(e,'.svg" alt=" ').concat(e,'" srcset=""></li>\n       ')}));var s='\n    <section class="game-select">\n    <ul class="game-menu">\n      '.concat(n,"\n    </ul>\n  </section>\n    ");t.insertAdjacentHTML("afterbegin",s)},g=function(e){r.gameScore.innerHTML=e},f=function(){var e=0;return+localStorage.score&&(e=+localStorage.score),e},y={};if(y.shape=new t,y.score=new c,h(y.shape.shapes,r.main),r.main.insertAdjacentHTML("beforeend",'\n    <button class="game-menu__btn btn btn__rules secondary-text">Rules</button>\n\n    '),f()){var d=+f();y.score.score=d,g(d)}window.addEventListener("click",(function(e){var t,n,a,c,f,d,_=e.target;if(_.matches(".".concat(u,", .").concat(u," *"))){var v=_.closest(".".concat(u)).dataset.items;y.shape.getPlayerPick(v),y.shape.getHousePick(),(a=document.querySelector(".game-select"))&&a.parentElement.removeChild(a),r.main.firstElementChild.classList.contains("game-play")||(r.main.insertAdjacentHTML("afterbegin",'\n    <section class="game-play">\n   \n    </section>\n    '),t=y.shape.playerPick,n='\n      <ul class="game-play__user">\n          <li class="game-shapes" data-items="'.concat(t,'">\n              <img class="game-shapes__img" src="./images/icon-').concat(t,'.svg" alt="').concat(t,'" srcset="">\n        </li>\n          <h2 class="secondary-text game-shapes__text">You picked</h2>\n      </ul> \n      \n      '),document.querySelector(".".concat(p)).insertAdjacentHTML("afterbegin",n),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t='\n    <ul class="game-play__house">\n        <li class="game-shapes" data-items="">\n\n      </li>\n        <h2 class="secondary-text game-shapes__text">The house picked</h2>\n    </ul> \n    \n    ';document.querySelector(".".concat(p)).innerHTML+=t,setTimeout((function(){var t='\n        <li class="game-shapes" data-items="'.concat(e,'">\n        <img class="game-shapes__img" src="./images/icon-').concat(e,'.svg" alt="').concat(e,'" srcset="">\n\n      </li>\n        <h2 class="secondary-text game-shapes__text">The house picked</h2>\n    \n    ');document.querySelector(".game-play__house").innerHTML=t}),250)}(y.shape.housePick),y.result=new s,y.result.checkResult(y.shape.playerPick,y.shape.housePick),function(e){var t=document.querySelector(".game-play__user"),n='\n      <ul class="game-play__result">\n      <li><h2 class="game-play__result--text primary-text">You '.concat(e,'</h2></li>\n      <li><button class="btn btn__reset secondary-text game-play__btn--reset">Play again</button></li>\n    </ul>\n      ');setTimeout((function(){t.insertAdjacentHTML("afterend",n)}),500)}(y.result.result),y.score.updateScores(y.result.result),function(e){e<=0&&localStorage.setItem("score",0),localStorage.setItem("score",e)}(y.score.score),g(y.score.score))}_.matches(".".concat(m,", .").concat(m," *"))&&(e.preventDefault(),y.shape.resetGame(),(c=document.querySelector(".".concat(p)))&&c.parentElement.removeChild(c),h(y.shape.shapes,r.main)),_.matches(".".concat(o,", .").concat(o," *"))?(d=r.main,document.querySelector(".rules-popup")||d.insertAdjacentHTML("beforeend",'\n    <div class="rules-popup">\n    <h2 class="rules-popup__text">Rules</h2>\n  <img src="./images/image-rules.svg" alt="" class="rules-popup__img">  \n  <button class="rules-popup__btn rules-popup__btn--close"><img src="./images/icon-close.svg " alt="close Icone" srcset=""></button>\n  </div> \n    ')):!_.matches(".".concat(i,", .").concat(i," *"))&&_.matches(".".concat(l,", .").concat(l," *"))||(f=document.querySelector(".".concat(l)))&&f.parentElement.removeChild(f)}))})();